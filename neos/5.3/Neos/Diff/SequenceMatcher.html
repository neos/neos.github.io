<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>Neos\Diff\SequenceMatcher | Neos CMS</title>

            <link rel="stylesheet" type="text/css" href="../../css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="../../css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="../../css/doctum.css">
        <link rel="stylesheet" type="text/css" href="../../fonts/doctum-font.css">
        <script src="../../js/jquery-3.5.1.slim.min.js"></script>
        <script async defer src="../../js/bootstrap.min.js"></script>
        <script src="../../js/typeahead.min.js"></script>
        <script src="../../doctum.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
        <link rel="shortcut icon" href="https://www.neos.io/favicon-32x32.png" />
        <link rel="search"
          type="application/opensearchdescription+xml"
          href="https://neos.github.io/opensearch.xml"
          title="Neos CMS (5.3)" />
    </head>

    <body id="class" data-name="class:Neos_Diff_SequenceMatcher" data-root-path="../../">
            <div id="content">
        <div id="left-column">
                <div id="control-panel">
                <form id="search-form" action="../../search.html">
            <span class="icon icon-search"></span>
            <input name="search"
                   class="typeahead form-control"
                   type="search"
                   placeholder="Search">
        </form>
    </div>

                <div id="api-tree"></div>

        </div>
        <div id="right-column">
                <nav id="site-nav" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-elements">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../../index.html">Neos CMS</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-elements">
                <ul class="nav navbar-nav">
                    <li><a href="../../classes.html">Classes</a></li>
                    <li><a href="../../namespaces.html">Namespaces</a></li>
                    <li><a href="../../interfaces.html">Interfaces</a></li>
                    <li><a href="../../traits.html">Traits</a></li>
                    <li><a href="../../doc-index.html">Index</a></li>
                    <li><a href="../../search.html">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

                        <div class="namespace-breadcrumbs">
            <ol class="breadcrumb">
                <li><span class="label label-default">class</span></li>
                        <li><a href="../../Neos.html">Neos</a></li><li class="backslash">\</li><li><a href="../../Neos/Diff.html">Diff</a></li><li class="backslash">\</li><li>SequenceMatcher</li>
            </ol>
        </div>
                <div id="page-content">
    <div class="page-header">
        <h1>SequenceMatcher    
            </h1>
    </div>

    
    <p>        class
    <strong>SequenceMatcher</strong>        (<a href="https://github.com/neos/neos-development-collection/blob/5.3/Neos.Diff/Classes/SequenceMatcher.php">View source</a>)
</p>

        
    
        

            <div class="description">
            <p><p>A Diff Sequence Matcher</p></p>                    </div>
            
        
    
    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method___construct">__construct</a>(string|array $a, string|array $b, string|array $junkCallback = null, $options)
        
                                            <p><p>The constructor. With the sequences being passed, they'll be set for the
sequence matcher and it will perform a basic cleanup &amp; calculate junk
elements.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    void
                </div>
                <div class="col-md-8">
                    <a href="#method_setOptions">setOptions</a>(array $options)
        
                                            <p><p>Set options for the matcher.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    void
                </div>
                <div class="col-md-8">
                    <a href="#method_setSequences">setSequences</a>(string|array $a, string|array $b)
        
                                            <p><p>Set the first and second sequences to use with the sequence matcher.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    void
                </div>
                <div class="col-md-8">
                    <a href="#method_setSeq1">setSeq1</a>(string|array $a)
        
                                            <p><p>Set the first sequence ($a) and reset any internal caches to indicate that
when calling the calculation methods, we need to recalculate them.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    void
                </div>
                <div class="col-md-8">
                    <a href="#method_setSeq2">setSeq2</a>(string|array $b)
        
                                            <p><p>Set the second sequence ($b) and reset any internal caches to indicate that
when calling the calculation methods, we need to recalculate them.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8">
                    <a href="#method_findLongestMatch">findLongestMatch</a>(int $alo, int $ahi, int $blo, int $bhi)
        
                                            <p><p>Find the longest matching block in the two sequences, as defined by the
lower and upper constraints for each sequence. (for the first sequence,
$alo - $ahi and for the second sequence, $blo - $bhi)</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool
                </div>
                <div class="col-md-8">
                    <a href="#method_linesAreDifferent">linesAreDifferent</a>(int $aIndex, int $bIndex)
        
                                            <p><p>Check if the two lines at the given indexes are different or not.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8">
                    <a href="#method_getMatchingBlocks">getMatchingBlocks</a>()
        
                                            <p><p>Return a nested set of arrays for all of the matching sub-sequences
in the strings $a and $b.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8">
                    <a href="#method_getOpCodes">getOpCodes</a>()
        
                                            <p><p>Return a list of all of the opcodes for the differences between the
two strings.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8">
                    <a href="#method_getGroupedOpcodes">getGroupedOpcodes</a>(int $context = 3)
        
                                            <p><p>Return a series of nested arrays containing different groups of generated
opcodes for the differences between the strings with up to $context lines
of surrounding content.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    float
                </div>
                <div class="col-md-8">
                    <a href="#method_ratio">ratio</a>()
        
                                            <p><p>Return a measure of the similarity between the two sequences.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method___construct">
        <div class="location"><a href="https://github.com/neos/neos-development-collection/blob/5.3/Neos.Diff/Classes/SequenceMatcher.php#L83">at line 83</a></div>
        <code>                    
    <strong>__construct</strong>(string|array $a, string|array $b, string|array $junkCallback = null, $options)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>The constructor. With the sequences being passed, they'll be set for the
sequence matcher and it will perform a basic cleanup &amp; calculate junk
elements.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string|array</td>
                <td>$a</td>
                <td><p>A string or array containing the lines to compare against.</p></td>
            </tr>
                    <tr>
                <td>string|array</td>
                <td>$b</td>
                <td><p>A string or array containing the lines to compare.</p></td>
            </tr>
                    <tr>
                <td>string|array</td>
                <td>$junkCallback</td>
                <td><p>Either an array or string that references a callback function (if there is one) to determine 'junk' characters.</p></td>
            </tr>
                    <tr>
                <td></td>
                <td>$options</td>
                <td></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_setOptions">
        <div class="location"><a href="https://github.com/neos/neos-development-collection/blob/5.3/Neos.Diff/Classes/SequenceMatcher.php#L98">at line 98</a></div>
        <code>                    void
    <strong>setOptions</strong>(array $options)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Set options for the matcher.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$options</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_setSequences">
        <div class="location"><a href="https://github.com/neos/neos-development-collection/blob/5.3/Neos.Diff/Classes/SequenceMatcher.php#L110">at line 110</a></div>
        <code>                    void
    <strong>setSequences</strong>(string|array $a, string|array $b)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Set the first and second sequences to use with the sequence matcher.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string|array</td>
                <td>$a</td>
                <td><p>A string or array containing the lines to compare against.</p></td>
            </tr>
                    <tr>
                <td>string|array</td>
                <td>$b</td>
                <td><p>A string or array containing the lines to compare.</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_setSeq1">
        <div class="location"><a href="https://github.com/neos/neos-development-collection/blob/5.3/Neos.Diff/Classes/SequenceMatcher.php#L123">at line 123</a></div>
        <code>                    void
    <strong>setSeq1</strong>(string|array $a)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Set the first sequence ($a) and reset any internal caches to indicate that
when calling the calculation methods, we need to recalculate them.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string|array</td>
                <td>$a</td>
                <td><p>The sequence to set as the first sequence.</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_setSeq2">
        <div class="location"><a href="https://github.com/neos/neos-development-collection/blob/5.3/Neos.Diff/Classes/SequenceMatcher.php#L144">at line 144</a></div>
        <code>                    void
    <strong>setSeq2</strong>(string|array $b)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Set the second sequence ($b) and reset any internal caches to indicate that
when calling the calculation methods, we need to recalculate them.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string|array</td>
                <td>$b</td>
                <td><p>The sequence to set as the second sequence.</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_findLongestMatch">
        <div class="location"><a href="https://github.com/neos/neos-development-collection/blob/5.3/Neos.Diff/Classes/SequenceMatcher.php#L246">at line 246</a></div>
        <code>                    array
    <strong>findLongestMatch</strong>(int $alo, int $ahi, int $blo, int $bhi)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Find the longest matching block in the two sequences, as defined by the
lower and upper constraints for each sequence. (for the first sequence,
$alo - $ahi and for the second sequence, $blo - $bhi)</p></p>                <p><p>Essentially, of all of the maximal matching blocks, return the one that
starts earliest in $a, and all of those maximal matching blocks that
start earliest in $a, return the one that starts earliest in $b.</p>
<p>If the junk callback is defined, do the above but with the restriction
that the junk element appears in the block. Extend it as far as possible
by matching only junk elements in both $a and $b.</p></p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>int</td>
                <td>$alo</td>
                <td><p>The lower constraint for the first sequence.</p></td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$ahi</td>
                <td><p>The upper constraint for the first sequence.</p></td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$blo</td>
                <td><p>The lower constraint for the second sequence.</p></td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$bhi</td>
                <td><p>The upper constraint for the second sequence.</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td><p>Array containing the longest match that includes the starting position in $a, start in $b and the length/size.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_linesAreDifferent">
        <div class="location"><a href="https://github.com/neos/neos-development-collection/blob/5.3/Neos.Diff/Classes/SequenceMatcher.php#L326">at line 326</a></div>
        <code>                    bool
    <strong>linesAreDifferent</strong>(int $aIndex, int $bIndex)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Check if the two lines at the given indexes are different or not.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>int</td>
                <td>$aIndex</td>
                <td><p>Line number to check against in a.</p></td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$bIndex</td>
                <td><p>Line number to check against in b.</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td><p>True if the lines are different and false if not.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getMatchingBlocks">
        <div class="location"><a href="https://github.com/neos/neos-development-collection/blob/5.3/Neos.Diff/Classes/SequenceMatcher.php#L359">at line 359</a></div>
        <code>                    array
    <strong>getMatchingBlocks</strong>()
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Return a nested set of arrays for all of the matching sub-sequences
in the strings $a and $b.</p></p>                <p><p>Each block contains the lower constraint of the block in $a, the lower
constraint of the block in $b and finally the number of lines that the
block continues for.</p></p>        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td><p>Nested array of the matching blocks, as described by the function.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getOpCodes">
        <div class="location"><a href="https://github.com/neos/neos-development-collection/blob/5.3/Neos.Diff/Classes/SequenceMatcher.php#L469">at line 469</a></div>
        <code>                    array
    <strong>getOpCodes</strong>()
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Return a list of all of the opcodes for the differences between the
two strings.</p></p>                <p><p>The nested array returned contains an array describing the opcode
which includes:
0 - The type of tag (as described below) for the opcode.
1 - The beginning line in the first sequence.
2 - The end line in the first sequence.
3 - The beginning line in the second sequence.
4 - The end line in the second sequence.</p>
<p>The different types of tags include:
replace - The string from $i1 to $i2 in $a should be replaced by
the string in $b from $j1 to $j2.
delete -  The string in $a from $i1 to $j2 should be deleted.
insert -  The string in $b from $j1 to $j2 should be inserted at
$i1 in $a.
equal  -  The two strings with the specified ranges are equal.</p></p>        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td><p>Array of the opcodes describing the differences between the strings.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getGroupedOpcodes">
        <div class="location"><a href="https://github.com/neos/neos-development-collection/blob/5.3/Neos.Diff/Classes/SequenceMatcher.php#L535">at line 535</a></div>
        <code>                    array
    <strong>getGroupedOpcodes</strong>(int $context = 3)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Return a series of nested arrays containing different groups of generated
opcodes for the differences between the strings with up to $context lines
of surrounding content.</p></p>                <p><p>Essentially what happens here is any big equal blocks of strings are stripped
out, the smaller subsets of changes are then arranged in to their groups.
This means that the sequence matcher and diffs do not need to include the full
content of the different files but can still provide context as to where the
changes are.</p></p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>int</td>
                <td>$context</td>
                <td><p>The number of lines of context to provide around the groups.</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td><p>Nested array of all of the grouped opcodes.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_ratio">
        <div class="location"><a href="https://github.com/neos/neos-development-collection/blob/5.3/Neos.Diff/Classes/SequenceMatcher.php#L620">at line 620</a></div>
        <code>                    float
    <strong>ratio</strong>()
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Return a measure of the similarity between the two sequences.</p></p>                <p><p>This will be a float value between 0 and 1.</p>
<p>Out of all of the ratio calculation functions, this is the most
expensive to call if getMatchingBlocks or getOpCodes is yet to be
called. The other calculation methods (quickRatio and realquickRatio)
can be used to perform quicker calculations but may be less accurate.</p>
<p>The ratio is calculated as (2 * number of matches) / total number of
elements in both sequences.</p></p>        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>float</td>
            <td><p>The calculated ratio.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
            </div>

    
</div><div id="footer">
        Generated by <a href="https://github.com/code-lts/doctum">Doctum, a API Documentation generator and fork of Sami</a>.            <br/>Learn more about the <a href="https://www.neos.io" rel="noreferrer noopener" target="_blank">Neos Content Application Platform</a> if you like!</div></div>
    </div>
    </body>

</html>
